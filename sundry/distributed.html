<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.22" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.82" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"从单兵作战到集团军协同——漫谈分布式系统演进","description":"想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。 集中式系统的黄金时代 在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅： 🛠 省心管家：所有服务都运行在单个主..."}</script><meta property="og:url" content="https://jinqiu.wang/sundry/distributed.html"><meta property="og:site_name" content="JQiue's notes"><meta property="og:title" content="从单兵作战到集团军协同——漫谈分布式系统演进"><meta property="og:description" content="想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。 集中式系统的黄金时代 在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅： 🛠 省心管家：所有服务都运行在单个主..."><meta property="og:type" content="website"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-06-19T06:51:15.000Z"><meta property="article:modified_time" content="2025-06-19T06:51:15.000Z"><script deref src="https://track.jinqiu.wang/js/tracker.js" data-website-id="1" data-server-url="https://track.jinqiu.wang"></script><meta name="mobile-web-app-capable" content="yes"><meta name="theme-color" content="#5c92d1"><link rel="icon" href="/favicon.ico"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><link rel="apple-touch-icon" href="/assets/icon/appleIcon152.png"><title>从单兵作战到集团军协同——漫谈分布式系统演进 | JQiue's notes</title><meta name="description" content="想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。 集中式系统的黄金时代 在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅： 🛠 省心管家：所有服务都运行在单个主...">
    <link rel="preload" href="/assets/style-BhfYYStb.css" as="style"><link rel="stylesheet" href="/assets/style-BhfYYStb.css">
    <link rel="modulepreload" href="/assets/app-BvEWR9Cw.js"><link rel="modulepreload" href="/assets/distributed.html-C8v6GnlP.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><a class="route-link vp-brand" href="/" aria-label="带我回家"><img class="vp-nav-logo" src="/logo.png" alt><!----><span class="vp-site-name hide-in-pad">JQiue&#39;s notes</span></a><!--]--></div><div class="vp-navbar-center"><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/" aria-label="首页" iconsizing="height"><!--[--><i class="vp-icon iconfont icon-zhuye" sizing="height"></i><!--]-->首页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="技能"><!--[--><i class="vp-icon iconfont icon-jishuzhan" sizing="height"></i>技能<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/composition/" aria-label="计算机组成" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-yuanli" sizing="both"></i><!--]-->计算机组成<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/operating-system/" aria-label="操作系统" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-caozuoxitong" sizing="both"></i><!--]-->操作系统<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/network/" aria-label="计算机网络" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-wangluo" sizing="both"></i><!--]-->计算机网络<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/compiler/" aria-label="编译原理" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-bianyi" sizing="both"></i><!--]-->编译原理<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/database/" aria-label="数据库" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-SQL" sizing="both"></i><!--]-->数据库<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/ds-algorithm/" aria-label="数据结构与算法" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-suanfa" sizing="both"></i><!--]-->数据结构与算法<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/ai/" aria-label="人工智能" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-rengongzhineng" sizing="both"></i><!--]-->人工智能<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="编程语言"><!--[--><i class="vp-icon iconfont icon-kaifayuyan" sizing="height"></i>编程语言<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/c/" aria-label="C" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-c" sizing="both"></i><!--]-->C<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/java/" aria-label="Java" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-java" sizing="both"></i><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/js/" aria-label="JavaScript" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-javascript" sizing="both"></i><!--]-->JavaScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/sundry/typescript.html" aria-label="TypeScript" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-typescript" sizing="both"></i><!--]-->TypeScript<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/python/" aria-label="Python" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-python" sizing="both"></i><!--]-->Python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/rust/" aria-label="Rust" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-rust" sizing="both"></i><!--]-->Rust<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Web"><!--[--><i class="vp-icon iconfont icon-liulanqi" sizing="height"></i>Web<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/html-css/" aria-label="HTML/CSS" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-html" sizing="both"></i><!--]-->HTML/CSS<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/webapi/" aria-label="WebAPI" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-wangluo" sizing="both"></i><!--]-->WebAPI<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="框架"><!--[--><i class="vp-icon iconfont icon-framework" sizing="height"></i>框架<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/vue.html" aria-label="Vue" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-vue" sizing="both"></i><!--]-->Vue<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/react.html" aria-label="React" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-react" sizing="both"></i><!--]-->React<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/express.html" aria-label="Express" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-express" sizing="both"></i><!--]-->Express<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/koa.html" aria-label="Koa" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-koa" sizing="both"></i><!--]-->Koa<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/reactnative.html" aria-label="React Native" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-react" sizing="both"></i><!--]-->React Native<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/electron.html" aria-label="Electron" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-electron" sizing="both"></i><!--]-->Electron<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/framework/tauri.html" aria-label="Tauri" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-tauri" sizing="both"></i><!--]-->Tauri<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="基础学科"><!--[--><i class="vp-icon iconfont icon-kemu" sizing="height"></i>基础学科<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/english.html" aria-label="英语" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-yingyu" sizing="both"></i><!--]-->英语<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/math.html" aria-label="数学" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-math" sizing="both"></i><!--]-->数学<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/physics.html" aria-label="物理" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-physics" sizing="both"></i><!--]-->物理<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/chemistry.html" aria-label="化学" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-chemistry" sizing="both"></i><!--]-->化学<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/biology.html" aria-label="生物" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-biology" sizing="both"></i><!--]-->生物<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/history.html" aria-label="历史" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-history" sizing="both"></i><!--]-->历史<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/logic.html" aria-label="逻辑学" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-logic" sizing="both"></i><!--]-->逻辑学<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/subject/economics-finance/" aria-label="经济和金融" iconsizing="both"><!--[--><i class="vp-icon iconfont icon-economics-finance" sizing="both"></i><!--]-->经济和金融<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link route-link-active auto-link" href="/sundry/" aria-label="杂七杂八" iconsizing="height"><!--[--><i class="vp-icon iconfont icon-baibaoxiang" sizing="height"></i><!--]-->杂七杂八<!----></a></div></nav><!--]--></div><div class="vp-navbar-end"><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/JQiue/jqiue-notes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch" style="display:none;"></div><div><button type="button" class="docsearch-btn" aria-label="搜索文档"><span class="docsearch-btn-icon-container"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="docsearch-modal-btn-icon"><path fill="currentColor" d="M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"></path></svg></span><span class="docsearch-btn-placeholder">搜索文档</span><span class="docsearch-btn-keys"><kbd class="docsearch-btn-key">Ctrl</kbd><kbd class="docsearch-btn-key">K</kbd></span></button></div><!--]--><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/" aria-label="杂七杂八" iconsizing="both"><!---->杂七杂八<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/ai-products.html" aria-label="AI 产品" iconsizing="both"><!---->AI 产品<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/android.html" aria-label="Android" iconsizing="both"><!---->Android<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/adb.html" aria-label="Android 调试桥（adb）的用法" iconsizing="both"><!---->Android 调试桥（adb）的用法<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/bevy.html" aria-label="Bevy" iconsizing="both"><!---->Bevy<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/cicd.html" aria-label="CI/CD" iconsizing="both"><!---->CI/CD<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/docker.html" aria-label="Docker" iconsizing="both"><!---->Docker<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/ffmpeg.html" aria-label="FFmpeg" iconsizing="both"><!---->FFmpeg<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/git.html" aria-label="Git 指南" iconsizing="both"><!---->Git 指南<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/nginx.html" aria-label="Nginx" iconsizing="both"><!---->Nginx<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/node.html" aria-label="Node.js" iconsizing="both"><!---->Node.js<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/prisma.html" aria-label="Prisma" iconsizing="both"><!---->Prisma<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/typescript.html" aria-label="TypeScript" iconsizing="both"><!---->TypeScript<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/ui.html" aria-label="UI 设计" iconsizing="both"><!---->UI 设计<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/frontend-engineering.html" aria-label="Web 工程技术" iconsizing="both"><!---->Web 工程技术<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/sundry/distributed.html" aria-label="从单兵作战到集团军协同——漫谈分布式系统演进" iconsizing="both"><!---->从单兵作战到集团军协同——漫谈分布式系统演进<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/quality.html" aria-label="代码质量" iconsizing="both"><!---->代码质量<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/latex.html" aria-label="使用 LaTeX 写作" iconsizing="both"><!---->使用 LaTeX 写作<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/meilisearch.html" aria-label="使用 MeiliSearch 构建轻量级搜素引擎" iconsizing="both"><!---->使用 MeiliSearch 构建轻量级搜素引擎<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/openssl.html" aria-label="使用 openssl 生成证书" iconsizing="both"><!---->使用 openssl 生成证书<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/blockchain.html" aria-label="区块链" iconsizing="both"><!---->区块链<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/coking.html" aria-label="厨艺" iconsizing="both"><!---->厨艺<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/harmonica.html" aria-label="口琴" iconsizing="both"><!---->口琴<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/learntolearn.html" aria-label="学习学习" iconsizing="both"><!---->学习学习<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/crypto.html" aria-label="密码学" iconsizing="both"><!---->密码学<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/security.html" aria-label="开发中的一些安全防范" iconsizing="both"><!---->开发中的一些安全防范<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/miniprogram.html" aria-label="微信小程序" iconsizing="both"><!---->微信小程序<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/gov-and-law.html" aria-label="政务和法律" iconsizing="both"><!---->政务和法律<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/digital-creative-skills.html" aria-label="数字创作技能" iconsizing="both"><!---->数字创作技能<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/unplaced.html" aria-label="未处理的内容" iconsizing="both"><!---->未处理的内容<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/regex.html" aria-label="正则表达式" iconsizing="both"><!---->正则表达式<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/game-sport.html" aria-label="游戏的基础：运动" iconsizing="both"><!---->游戏的基础：运动<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/listening-address.html" aria-label="监听 IP 地址" iconsizing="both"><!---->监听 IP 地址<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/terminal.html" aria-label="终端大一统" iconsizing="both"><!---->终端大一统<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/packet-capture.html" aria-label="网络抓包" iconsizing="both"><!---->网络抓包<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/silkworm.html" aria-label="育蚕记" iconsizing="both"><!---->育蚕记<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/tools.html" aria-label="资源和工具" iconsizing="both"><!---->资源和工具<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/software-design.html" aria-label="软件设计" iconsizing="both"><!---->软件设计<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/escape-fold.html" aria-label="逃离羊圈" iconsizing="both"><!---->逃离羊圈<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/reverse.html" aria-label="逆向工程" iconsizing="both"><!---->逆向工程<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/http.html" aria-label="通向万维网的协议 - HTTP" iconsizing="both"><!---->通向万维网的协议 - HTTP<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/problems.html" aria-label="问题汇总" iconsizing="both"><!---->问题汇总<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/sundry/interview.html" aria-label="面试经历" iconsizing="both"><!---->面试经历<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->从单兵作战到集团军协同——漫谈分布式系统演进</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://jinqiu.wang/" target="_blank" rel="noopener noreferrer">JQiue</a></span><span property="author" content="JQiue"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025/6/19</span><meta property="datePublished" content="2025-06-19T06:51:15.000Z"></span><span class="page-pageview-info" aria-label="访问量🔢" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon" name="eye"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span id="ArtalkPV" class="vp-pageview waline-pageview-count" data-path="/sundry/distributed.html" data-page-key="/sundry/distributed.html">...</span></span><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 29 分钟</span><meta property="timeRequired" content="PT29M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color8" role>技术演进</span><!--]--><meta property="articleSection" content="技术演进"></span><!----></div><hr></div><!----><div class="" vp-content><!----><div id="markdown-content"><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h2 id="集中式系统的黄金时代" tabindex="-1"><a class="header-anchor" href="#集中式系统的黄金时代"><span>集中式系统的黄金时代</span></a></h2><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如 F1 赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><h2 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h2><h3 id="_2-3-数据分片-披萨切割艺术" tabindex="-1"><a class="header-anchor" href="#_2-3-数据分片-披萨切割艺术"><span>2.3 数据分片：披萨切割艺术</span></a></h3><p>数据分片就像分食巨型披萨：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pie</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    title 数据分片方式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;水平分片（按行）&quot; : 65</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;垂直分片（按列）&quot; : 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;混合分片&quot; : 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际案例演变：</p><ol><li>2010年：MySQL手动分表 → 需要提前规划</li><li>2015年：MongoDB自动分片 → 动态扩容</li><li>2022年：TiDB智能分区 → AI预测热点数据</li></ol><blockquote><p>💡 思考：如果用户数据包含位置信息，如何设计分片策略？</p></blockquote><hr><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="分布式世界的生存法则" tabindex="-1"><a class="header-anchor" href="#分布式世界的生存法则"><span>分布式世界的生存法则</span></a></h2><h3 id="_2-1-节点-数字世界的细胞" tabindex="-1"><a class="header-anchor" href="#_2-1-节点-数字世界的细胞"><span>2.1 节点：数字世界的细胞</span></a></h3><p>每个节点如同生物细胞般运作：</p><ul><li>🧬 <strong>自包含结构</strong>：完整资源配备（CPU/Memory/Disk）</li><li>🌐 <strong>神经网络连接</strong>：TCP/IP协议栈相当于神经突触</li><li>🏥 <strong>自我修复机制</strong>：k8s的健康检查就像细胞凋亡机制</li></ul><p>开发者的日常挑战：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    A[节点故障] --&gt; B{检测机制}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    B --&gt;|心跳超时| C[标记不可用]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    B --&gt;|资源耗尽| D[自动驱逐]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    C --&gt; E[服务转移]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    D --&gt; E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-集群管理-从蜂群到元宇宙" tabindex="-1"><a class="header-anchor" href="#_2-2-集群管理-从蜂群到元宇宙"><span>2.2 集群管理：从蜂群到元宇宙</span></a></h3><p>集群演化三部曲：</p><ol><li><p><strong>原始部落</strong>（2005）：</p><ul><li>手动管理SSH连接</li><li>简易负载均衡（Nginx轮询）</li><li>典型案例：早期维基百科架构</li></ul></li><li><p><strong>工业革命</strong>（2012）：</p><ul><li>自动化部署（Ansible）</li><li>服务发现（Consul）</li><li>典型案例：Netflix迁移AWS</li></ul></li><li><p><strong>智能时代</strong>（2024）：</p><ul><li>自主决策（K8s Operator）</li><li>边缘计算（5G MEC）</li><li>典型案例：特斯拉自动驾驶集群</li></ul></li></ol><h3 id="_2-3-流量调度艺术" tabindex="-1"><a class="header-anchor" href="#_2-3-流量调度艺术"><span>2.3 流量调度艺术</span></a></h3><p>通过餐厅订位系统理解负载均衡：</p><ul><li>👨🍳 <strong>轮询制</strong>：每个厨师轮流接单 → 简单但可能累死大厨</li><li>🎰 <strong>随机派单</strong>：掷骰子决定 → 适合新手厨师训练</li><li>⚖️ <strong>智能加权</strong>：根据厨师星级分配 → 米其林餐厅模式</li><li>🔍 <strong>最少工单</strong>：查看当前工作量 → 海底捞等位系统</li></ul><p>真实世界对比：</p><table><thead><tr><th>算法</th><th>适用场景</th><th>缺点</th><th>代表产品</th></tr></thead><tbody><tr><td>轮询</td><td>节点性能均衡</td><td>无视实际负载</td><td>Nginx默认策略</td></tr><tr><td>加权轮询</td><td>异构集群</td><td>静态配置不够灵活</td><td>HAProxy</td></tr><tr><td>最小连接</td><td>长连接服务</td><td>计算开销较大</td><td>F5 BIG-IP</td></tr><tr><td>一致性哈希</td><td>缓存系统</td><td>扩容成本高</td><td>Redis Cluster</td></tr></tbody></table><h3 id="_2-4-cap抉择-永恒的三角博弈" tabindex="-1"><a class="header-anchor" href="#_2-4-cap抉择-永恒的三角博弈"><span>2.4 CAP抉择：永恒的三角博弈</span></a></h3><p>通过银行案例理解CAP：</p><ul><li>🏦 <strong>强一致性（CP）</strong>：跨行转账必须所有节点确认 → 可能暂停服务</li><li>🛒 <strong>高可用性（AP）</strong>：购物车添加商品优先响应 → 允许暂时不一致</li><li>🌐 <strong>分区容忍（CA）</strong>：跨国业务需地域自治 → 放弃实时一致</li></ul><p>现代解决方案演变：</p><ol><li><strong>BASE理论</strong>：允许柔性状态（像支付宝余额的&quot;处理中&quot;状态）</li><li><strong>CRDTs数据结构</strong>：无冲突数据复制（协同文档的协同编辑）</li><li><strong>混合时钟同步</strong>：Google Spanner的原子钟+GPS</li></ol><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-1" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-1"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="基本概念-1" tabindex="-1"><a class="header-anchor" href="#基本概念-1"><span>基本概念</span></a></h2><h3 id="_2-3-数据分片-披萨切割艺术-1" tabindex="-1"><a class="header-anchor" href="#_2-3-数据分片-披萨切割艺术-1"><span>2.3 数据分片：披萨切割艺术</span></a></h3><p>数据分片就像分食巨型披萨：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pie</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    title 数据分片方式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;水平分片（按行）&quot; : 65</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;垂直分片（按列）&quot; : 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;混合分片&quot; : 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际案例演变：</p><ol><li>2010年：MySQL手动分表 → 需要提前规划</li><li>2015年：MongoDB自动分片 → 动态扩容</li><li>2022年：TiDB智能分区 → AI预测热点数据</li></ol><blockquote><p>💡 思考：如果用户数据包含位置信息，如何设计分片策略？</p></blockquote><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-1" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-1"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-2" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-2"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="分布式世界生存指南" tabindex="-1"><a class="header-anchor" href="#分布式世界生存指南"><span>分布式世界生存指南</span></a></h2><h3 id="_3-1-节点-数字世界的细胞" tabindex="-1"><a class="header-anchor" href="#_3-1-节点-数字世界的细胞"><span>3.1 节点：数字世界的细胞</span></a></h3><p>每个节点如同生物细胞般运作：</p><ul><li>🧬 <strong>自包含结构</strong>：配备完整计算资源（参考AWS EC2实例）</li><li>🌐 <strong>神经网络连接</strong>：使用gRPC协议实现高效通讯</li><li>🏥 <strong>自我修复</strong>：K8s健康检查间隔设为5秒</li></ul><p>开发挑战实录：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sequenceDiagram</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    运维系统-&gt;&gt;节点: 心跳检测</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    节点--x运维系统: 超时未响应</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    运维系统-&gt;&gt;负载均衡: 移除节点</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    运维系统-&gt;&gt;备用节点: 启动新实例</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-集群进化史" tabindex="-1"><a class="header-anchor" href="#_3-2-集群进化史"><span>3.2 集群进化史</span></a></h3><p>从石器时代到智能时代：</p><table><thead><tr><th>时代</th><th>关键技术</th><th>典型问题</th><th>解决方案</th></tr></thead><tbody><tr><td>2005-2010</td><td>静态负载均衡</td><td>单点故障</td><td>Keepalived热备</td></tr><tr><td>2010-2015</td><td>自动化部署</td><td>配置漂移</td><td>Puppet配置管理</td></tr><tr><td>2015-2020</td><td>容器化</td><td>资源隔离不足</td><td>Docker命名空间</td></tr><tr><td>2020至今</td><td>服务网格</td><td>微服务通讯复杂化</td><td>Istio sidecar代理</td></tr></tbody></table><h3 id="_3-3-数据分片实战" tabindex="-1"><a class="header-anchor" href="#_3-3-数据分片实战"><span>3.3 数据分片实战</span></a></h3><p>通过电商案例理解分片：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pie</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    title 用户数据分片策略</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;按用户ID哈希&quot; : 45</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;按注册时间范围&quot; : 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;按地理位置&quot; : 15</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;混合策略&quot; : 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-流量调度艺术" tabindex="-1"><a class="header-anchor" href="#_3-4-流量调度艺术"><span>3.4 流量调度艺术</span></a></h3><p>饿了么骑手调度系统的启示：</p><ul><li>🚴 <strong>实时匹配</strong>：DynamoDB全局表保证餐厅位置同步</li><li>🕒 <strong>超时控制</strong>：5秒内必须完成调度决策</li><li>🧠 <strong>智能预测</strong>：LSTM神经网络预估配送时长</li></ul><h3 id="_3-5-cap平衡之道" tabindex="-1"><a class="header-anchor" href="#_3-5-cap平衡之道"><span>3.5 CAP平衡之道</span></a></h3><p>2024年行业实践现状：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">graph LR</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    A[金融系统] --&gt;|强一致性| B(区块链)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    C[社交应用] --&gt;|高可用性| D(CRDTs)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    E[物联网] --&gt;|分区容忍| F(MQTT协议)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-2" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-2"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-3" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-3"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="基本概念-2" tabindex="-1"><a class="header-anchor" href="#基本概念-2"><span>基本概念</span></a></h2><h3 id="_2-3-数据分片-披萨切割艺术-2" tabindex="-1"><a class="header-anchor" href="#_2-3-数据分片-披萨切割艺术-2"><span>2.3 数据分片：披萨切割艺术</span></a></h3><p>数据分片就像分食巨型披萨：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pie</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    title 数据分片方式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;水平分片（按行）&quot; : 65</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;垂直分片（按列）&quot; : 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;混合分片&quot; : 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际案例演变：</p><ol><li>2010年：MySQL手动分表 → 需要提前规划</li><li>2015年：MongoDB自动分片 → 动态扩容</li><li>2022年：TiDB智能分区 → AI预测热点数据</li></ol><blockquote><p>💡 思考：如果用户数据包含位置信息，如何设计分片策略？</p></blockquote><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-3" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-3"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-4" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-4"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="分布式世界的生存法则-1" tabindex="-1"><a class="header-anchor" href="#分布式世界的生存法则-1"><span>分布式世界的生存法则</span></a></h2><h3 id="_2-1-节点-数字世界的细胞-1" tabindex="-1"><a class="header-anchor" href="#_2-1-节点-数字世界的细胞-1"><span>2.1 节点：数字世界的细胞</span></a></h3><p>每个节点如同生物细胞般运作：</p><ul><li>🧬 <strong>自包含结构</strong>：完整资源配备（CPU/Memory/Disk）</li><li>🌐 <strong>神经网络连接</strong>：TCP/IP协议栈相当于神经突触</li><li>🏥 <strong>自我修复机制</strong>：k8s的健康检查就像细胞凋亡机制</li></ul><p>开发者的日常挑战：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">graph TD</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    A[节点故障] --&gt; B{检测机制}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    B --&gt;|心跳超时| C[标记不可用]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    B --&gt;|资源耗尽| D[自动驱逐]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    C --&gt; E[服务转移]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    D --&gt; E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-集群管理-从蜂群到元宇宙-1" tabindex="-1"><a class="header-anchor" href="#_2-2-集群管理-从蜂群到元宇宙-1"><span>2.2 集群管理：从蜂群到元宇宙</span></a></h3><p>集群演化三部曲：</p><ol><li><p><strong>原始部落</strong>（2005）：</p><ul><li>手动管理SSH连接</li><li>简易负载均衡（Nginx轮询）</li><li>典型案例：早期维基百科架构</li></ul></li><li><p><strong>工业革命</strong>（2012）：</p><ul><li>自动化部署（Ansible）</li><li>服务发现（Consul）</li><li>典型案例：Netflix迁移AWS</li></ul></li><li><p><strong>智能时代</strong>（2024）：</p><ul><li>自主决策（K8s Operator）</li><li>边缘计算（5G MEC）</li><li>典型案例：特斯拉自动驾驶集群</li></ul></li></ol><h3 id="_2-3-流量调度艺术-1" tabindex="-1"><a class="header-anchor" href="#_2-3-流量调度艺术-1"><span>2.3 流量调度艺术</span></a></h3><p>通过餐厅订位系统理解负载均衡：</p><ul><li>👨🍳 <strong>轮询制</strong>：每个厨师轮流接单 → 简单但可能累死大厨</li><li>🎰 <strong>随机派单</strong>：掷骰子决定 → 适合新手厨师训练</li><li>⚖️ <strong>智能加权</strong>：根据厨师星级分配 → 米其林餐厅模式</li><li>🔍 <strong>最少工单</strong>：查看当前工作量 → 海底捞等位系统</li></ul><p>真实世界对比：</p><table><thead><tr><th>算法</th><th>适用场景</th><th>缺点</th><th>代表产品</th></tr></thead><tbody><tr><td>轮询</td><td>节点性能均衡</td><td>无视实际负载</td><td>Nginx默认策略</td></tr><tr><td>加权轮询</td><td>异构集群</td><td>静态配置不够灵活</td><td>HAProxy</td></tr><tr><td>最小连接</td><td>长连接服务</td><td>计算开销较大</td><td>F5 BIG-IP</td></tr><tr><td>一致性哈希</td><td>缓存系统</td><td>扩容成本高</td><td>Redis Cluster</td></tr></tbody></table><h3 id="_2-4-cap抉择-永恒的三角博弈-1" tabindex="-1"><a class="header-anchor" href="#_2-4-cap抉择-永恒的三角博弈-1"><span>2.4 CAP抉择：永恒的三角博弈</span></a></h3><p>通过银行案例理解CAP：</p><ul><li>🏦 <strong>强一致性（CP）</strong>：跨行转账必须所有节点确认 → 可能暂停服务</li><li>🛒 <strong>高可用性（AP）</strong>：购物车添加商品优先响应 → 允许暂时不一致</li><li>🌐 <strong>分区容忍（CA）</strong>：跨国业务需地域自治 → 放弃实时一致</li></ul><p>现代解决方案演变：</p><ol><li><strong>BASE理论</strong>：允许柔性状态（像支付宝余额的&quot;处理中&quot;状态）</li><li><strong>CRDTs数据结构</strong>：无冲突数据复制（协同文档的协同编辑）</li><li><strong>混合时钟同步</strong>：Google Spanner的原子钟+GPS</li></ol><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-4" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-4"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-5" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-5"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="基本概念-3" tabindex="-1"><a class="header-anchor" href="#基本概念-3"><span>基本概念</span></a></h2><h3 id="_2-3-数据分片-披萨切割艺术-3" tabindex="-1"><a class="header-anchor" href="#_2-3-数据分片-披萨切割艺术-3"><span>2.3 数据分片：披萨切割艺术</span></a></h3><p>数据分片就像分食巨型披萨：</p><div class="language-mermaid line-numbers-mode" data-highlighter="shiki" data-ext="mermaid" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">pie</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    title 数据分片方式</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;水平分片（按行）&quot; : 65</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;垂直分片（按列）&quot; : 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &quot;混合分片&quot; : 5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实际案例演变：</p><ol><li>2010年：MySQL手动分表 → 需要提前规划</li><li>2015年：MongoDB自动分片 → 动态扩容</li><li>2022年：TiDB智能分区 → AI预测热点数据</li></ol><blockquote><p>💡 思考：如果用户数据包含位置信息，如何设计分片策略？</p></blockquote><hr><h2 id="title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-5" tabindex="-1"><a class="header-anchor" href="#title-从单兵作战到集团军协同——漫谈分布式系统演进category-技术演进article-false-5"><span>title: 从单兵作战到集团军协同——漫谈分布式系统演进 category: 技术演进 article: false</span></a></h2><p>想象一下双十一零点：数亿人同时刷新淘宝页面，瞬时流量堪比海啸。若是依赖单台服务器，就像让一个小卖部接待整个城市的人口——结果只能是系统崩溃，购物车清空。这正是分布式系统存在的意义：把原来单兵作战的服务器，变成配合默契的集团军。</p><h3 id="_1-1-集中式系统的黄金时代-6" tabindex="-1"><a class="header-anchor" href="#_1-1-集中式系统的黄金时代-6"><span>1.1 集中式系统的黄金时代</span></a></h3><p>在互联网的史前时期（2000年代初期），集中式架构如同独栋别墅：</p><ul><li>🛠 <strong>省心管家</strong>：所有服务都运行在单个主机，就像家里只有一个总电闸</li><li>💰 <strong>精打细算</strong>：初创公司用几台Dell服务器就能支撑整个业务（参考早期QQ）</li><li>⚡ <strong>爆发力强</strong>：在业务量稳定时，犹如F1赛车在直道冲刺</li></ul><p>但就像别墅无法无限扩建，当淘宝日活突破百万时，集中式系统开始显露疲态：</p><ul><li>🎯 <strong>鸡蛋一篮</strong>：2013年杭州机房电缆被挖断，支付宝瘫痪8小时</li><li>🚧 <strong>扩容困局</strong>：2012年微博明星离婚事件，单服务器扛不住流量雪崩</li><li>🕰 <strong>升级噩梦</strong>：银行系统停机维护时&quot;暂停服务&quot;的告示牌</li></ul><p>分布式系统是由一组通过网络进行通信的计算机节点组成的系统。这些节点可以位于同一数据中心，也可以分布在不同的地理位置。分布式系统的目标是将一个复杂的任务分解成多个子任务，并将这些子任务分配给不同的节点进行处理，从而提高系统的整体性能和可扩展性。</p><p>与集中式系统相比，分布式系统具有以下优点：</p><ul><li><strong>高可用性：</strong> 即使部分节点发生故障，系统仍然可以正常运行。</li><li><strong>高性能：</strong> 可以通过增加节点来提高系统的整体性能。</li><li><strong>可扩展性好：</strong> 可以方便地扩展系统的计算和存储能力。</li></ul><p>当然，分布式系统也存在一些缺点：</p><ul><li><strong>复杂性：</strong> 难以设计、开发和维护。</li><li><strong>高成本：</strong> 需要多台计算机，成本较高。</li><li><strong>一致性问题：</strong> 需要解决数据在多个节点之间的一致性问题。</li></ul><p>总而言之，集中式系统适用于业务规模较小、对可用性和可扩展性要求不高的场景；而分布式系统适用于业务规模较大、对可用性和可扩展性要求较高的场景。</p><h2 id="基本概念-4" tabindex="-1"><a class="header-anchor" href="#基本概念-4"><span>基本概念</span></a></h2><h3 id="节点" tabindex="-1"><a class="header-anchor" href="#节点"><span>节点</span></a></h3><p>节点是分布式系统中的一个独立的计算单元。每个节点都拥有自己的 CPU、内存、存储等资源，并且可以独立地执行任务。节点之间通过网络进行通信，协作完成整个系统的功能。</p><h3 id="集群" tabindex="-1"><a class="header-anchor" href="#集群"><span>集群</span></a></h3><p>集群是由一组相互连接的节点组成的集合。集群中的节点可以协同工作，共同完成一个任务。集群可以提高系统的整体性能和可用性。</p><h3 id="数据分片" tabindex="-1"><a class="header-anchor" href="#数据分片"><span>数据分片</span></a></h3><p>数据分片是将数据分割成多个片段，并将这些片段存储在不同的节点上的技术。数据分片可以提高数据的存储容量和访问性能。常见的数据分片方式包括：</p><ul><li><strong>水平分片：</strong> 将数据按照行进行分割，不同的行存储在不同的节点上。</li><li><strong>垂直分片：</strong> 将数据按照列进行分割，不同的列存储在不同的节点上。</li></ul><h3 id="负载均衡" tabindex="-1"><a class="header-anchor" href="#负载均衡"><span>负载均衡</span></a></h3><p>负载均衡是将任务分配给不同的节点，以保证每个节点都能够充分利用其资源的技术。负载均衡可以提高系统的整体性能和可用性。常见的负载均衡算法包括：</p><ul><li><strong>轮询：</strong> 将任务依次分配给每个节点。</li><li><strong>随机：</strong> 随机选择一个节点来分配任务。</li><li><strong>加权轮询：</strong> 根据节点的性能设置权重，将任务按照权重比例分配给每个节点。</li><li><strong>最小连接数：</strong> 将任务分配给当前连接数最少的节点。</li></ul><h3 id="cap-理论" tabindex="-1"><a class="header-anchor" href="#cap-理论"><span>CAP 理论</span></a></h3><p>CAP 理论是分布式系统设计中一个重要的理论。它指出，一个分布式系统最多只能同时满足以下三个特性中的两个：</p><ul><li><strong>一致性（Consistency）：</strong> 所有节点在同一时间看到相同的数据。</li><li><strong>可用性（Availability）：</strong> 每个请求都能得到响应，无论成功或失败。</li><li><strong>分区容错性（Partition Tolerance）：</strong> 系统在出现网络分区的情况下仍然能够正常运行。</li></ul><p>在实际的分布式系统设计中，需要在 CAP 三个特性之间进行权衡，选择最适合业务需求的组合。</p><h3 id="一致性" tabindex="-1"><a class="header-anchor" href="#一致性"><span>一致性</span></a></h3><p>一致性是指分布式系统中的数据在多个副本之间保持一致的状态。一致性是分布式系统设计中一个重要的目标，但也是一个难以实现的目标。常见的一致性模型包括：</p><ul><li><strong>强一致性：</strong> 所有节点在任何时刻都看到相同的数据。</li><li><strong>弱一致性：</strong> 节点在一段时间内可能看到不同的数据，但最终会达到一致。</li><li><strong>最终一致性：</strong> 节点在一段时间内可能看到不同的数据，但最终会达到一致。最终一致性是弱一致性的一种特殊情况。</li></ul><h2 id="常见架构" tabindex="-1"><a class="header-anchor" href="#常见架构"><span>常见架构</span></a></h2><h3 id="master-slave-架构" tabindex="-1"><a class="header-anchor" href="#master-slave-架构"><span>Master-Slave 架构</span></a></h3><p>Master-Slave 架构是一种常见的分布式系统架构。在这种架构中，有一个 Master 节点负责管理和协调所有的 Slave 节点。Slave 节点负责执行具体的任务。</p><p>Master-Slave 架构的优点是简单易于实现，缺点是 Master 节点存在单点故障的风险。</p><h3 id="peer-to-peer-架构" tabindex="-1"><a class="header-anchor" href="#peer-to-peer-架构"><span>Peer-to-Peer 架构</span></a></h3><p>Peer-to-Peer 架构是一种去中心化的分布式系统架构。在这种架构中，所有的节点都是平等的，没有 Master 节点和 Slave 节点之分。</p><p>Peer-to-Peer 架构的优点是高可用性和可扩展性，缺点是复杂性较高。</p><h3 id="shared-nothing-架构" tabindex="-1"><a class="header-anchor" href="#shared-nothing-架构"><span>Shared-Nothing 架构</span></a></h3><p>Shared-Nothing 架构是一种高性能的分布式系统架构。在这种架构中，每个节点都拥有自己的 CPU、内存、存储等资源，节点之间不共享任何资源。</p><p>Shared-Nothing 架构的优点是高性能和可扩展性，缺点是复杂性较高。</p><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h3 id="数据一致性问题" tabindex="-1"><a class="header-anchor" href="#数据一致性问题"><span>数据一致性问题</span></a></h3><p>数据一致性是分布式系统设计中一个重要的挑战。由于数据存储在多个节点上，因此需要保证数据在多个副本之间的一致性。常见的数据一致性问题包括：</p><ul><li><strong>写写冲突：</strong> 多个节点同时修改同一份数据。</li><li><strong>读写冲突：</strong> 节点在读取数据时，数据正在被其他节点修改。</li></ul><h3 id="容错性问题" tabindex="-1"><a class="header-anchor" href="#容错性问题"><span>容错性问题</span></a></h3><p>容错性是指分布式系统在部分节点发生故障的情况下仍然能够正常运行的能力。容错性是分布式系统设计中一个重要的目标。常见的容错性技术包括：</p><ul><li><strong>数据备份：</strong> 将数据备份到多个节点上，当一个节点发生故障时，可以从其他节点读取数据。</li><li><strong>故障检测：</strong> 及时检测到发生故障的节点，并将其从系统中移除。</li><li><strong>自动恢复：</strong> 当节点恢复正常后，自动将其重新加入到系统中。</li></ul><h3 id="可扩展性问题" tabindex="-1"><a class="header-anchor" href="#可扩展性问题"><span>可扩展性问题</span></a></h3><p>可扩展性是指分布式系统能够通过增加节点来提高系统的整体性能和可用性的能力。可扩展性是分布式系统设计中一个重要的目标。常见的可扩展性技术包括：</p><ul><li><strong>数据分片：</strong> 将数据分割成多个片段，并将这些片段存储在不同的节点上。</li><li><strong>负载均衡：</strong> 将任务分配给不同的节点，以保证每个节点都能够充分利用其资源。</li><li><strong>无状态服务：</strong> 将服务设计成无状态的，使得可以方便地增加或减少节点。</li></ul><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>分布式系统是现代互联网应用的基础。随着业务的不断发展，分布式系统将面临更多的挑战和机遇。未来的分布式系统将更加注重以下几个方面：</p><ul><li><strong>智能化：</strong> 通过人工智能技术来优化系统的性能和可用性。</li><li><strong>自动化：</strong> 通过自动化工具来简化系统的部署和维护。</li><li><strong>安全性：</strong> 加强系统的安全性，防止数据泄露和攻击。</li></ul><p>总而言之，分布式系统是一个充满挑战和机遇的领域。只有不断学习和探索，才能构建出更加高效、可靠和安全的分布式系统。</p></div><!----><!----><!--[--><h2 id="doc-contributors" tabindex="-1"><a href="#doc-contributors" class="header-anchor"><span>贡献者</span></a></h2><div class="vp-contributors"><a href="https://github.com/JQiue" target="_blank" rel="noreferrer" class="vp-contributor"><!----><span class="vp-contributor-name">JQiue</span></a></div><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/JQiue/jqiue-notes/edit/master/docs/sundry/distributed.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank" iconsizing="both"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">最近更新：</span><time class="vp-meta-info" datetime="2025-06-19T06:51:15.000Z" data-allow-mismatch>2025/6/19 06:51</time></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/sundry/frontend-engineering.html" aria-label="Web 工程技术" iconsizing="both"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Web 工程技术</div></a><a class="route-link auto-link next" href="/sundry/quality.html" aria-label="代码质量" iconsizing="both"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">代码质量<!----></div></a></nav><div id="comment" class="waline-wrapper vp-comment" vp-comment darkmode="false" style="display:block;"><!----></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer"><a href="https://beian.miit.gov.cn/" target="_blank">备案号：鄂ICP备2021016538号</a></div><div class="vp-copyright">Copyright © 2019-present JQiue | Latest push: 6/19/2025, 6:51:39 AM</div></footer></div><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BvEWR9Cw.js" defer></script>
  </body>
</html>
