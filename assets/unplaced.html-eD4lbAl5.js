import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,a as n,f as l,o as e}from"./app-BvEWR9Cw.js";const t="/assets/tomcat-1-CFJu_IbG.jpeg",h={};function p(k,s){return e(),a("div",null,[s[0]||(s[0]=n('<h2 id="tomcat" tabindex="-1"><a class="header-anchor" href="#tomcat"><span>Tomcat</span></a></h2><div class="hint-container info"><p class="hint-container-title">前置知识</p><ul><li>HTML</li><li>CSS</li><li>JavaScript</li><li>Java</li><li>HTTP</li></ul></div><p>Tomcat 是 Apache 公司开发的一款免费的 Web 应用服务器，虽然它为 HTML 页面提供服务，但实际上运行的是 JSP 和 Servlet。因为处理静态 HTML 的能力不如其他服务器，所以它只能算是一个运行 JSP 和 Servlet 的容器，能够单独处理 HTML 页面</p><p>从<a href="https://tomcat.apache.org/" target="_blank" rel="noopener noreferrer">官网</a>下载它，Tomcat 依赖于 Java 运行，在<a href="https://tomcat.apache.org/whichversion.html" target="_blank" rel="noopener noreferrer">这里</a>查看匹配当前 Java 版本的 Tomcat。如果没有配置<code>JAVA_HOME</code>系统环境变量，一定要配置，它为 Tomcat 指明 Java 所在的目录，否则启动时只能看到一闪而过的窗口</p><p>在<code>bin</code>目录下，找到<code>startup.bat</code>（如果是 Windows）双击它，会弹出一个终端窗口启动 Tomcat（如果没有问题）。这时不要关闭它，打开浏览器输入<code>localhost:8080</code>访问，出现下图就代表 Tomcat 以及相关配置没有问题</p><p><img src="'+t+`" alt="tomcat-1"></p><p>不要直接关闭打开中的终端来停止 Tomcat，应该双击<code>bin</code>目录下的<code>shutdown.bat</code>来处理</p><p>掌握 Tomcat 的一些目录是非常有必要的</p><ul><li>bin：存放一些可执行命令，比如启动服务器和关闭服务器</li><li>conf：存放服务器启动时相关的配置，核心配置文件<code>server.xml</code></li><li>lib：运行时依赖的库</li><li>logs：存放执行日志信息的目录</li><li>temps：临时文件夹目录</li><li>webapps：发布应用的目录</li><li>work：处理 JSP 的工作目录</li></ul><p>最重要的是<code>webapps</code>，通过网址访问的路径都是这个目录下的应用，如果打开这个目录，会发现 Tomcat 自带几个 Web 应用，通过<code>localhost:8080</code>会默认指向<code>ROOT</code>目录中的应用</p><p>一个 Web 应用的目录结构是这样的：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>WebName</span></span>
<span class="line"><span>│  index.jsp</span></span>
<span class="line"><span>│  ...</span></span>
<span class="line"><span>└─WEB-INF</span></span>
<span class="line"><span>    │  web.xml # 当前整个 Web 应用的核心配置文件</span></span>
<span class="line"><span>    │</span></span>
<span class="line"><span>    ├─classes # 编译后的 java 字节码文件</span></span>
<span class="line"><span>    └─lib # jar 包</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">警告</p><p><code>host-manager</code>、<code>manager</code>、<code>ROOT</code>这三个项目最好不要删，其它的都可以删掉以增加启动速度</p></div><h3 id="核心配置" tabindex="-1"><a class="header-anchor" href="#核心配置"><span>核心配置</span></a></h3><p><code>server.xml</code>是 Tomcat 的核心配置文件</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Service</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;catalina&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Connector</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> connectionTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;20000&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;8080&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;HTTP/1.1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> redirectPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;8443&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Connector</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;8009&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> protocol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;AJP/1.3&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> redirectPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;8443&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Engine</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> defaultHost</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Localhost&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;catalina&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Host</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> appBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;webapps&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> autoDeploy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;LocaLhost&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> unpackwARs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Context</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> docBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;project1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; /project1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> reloadable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Context</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> docBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;project2&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/project2&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> reloadable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Host</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> appBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;webapps&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> autoDeploy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;m. myxq.com&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> unpackWARs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Context</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> docBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;project1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/project1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> reloadable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Context</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> docBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;project2&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/project2&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> reloadable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Engine</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Service</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Server - 整个Server容器组合，可以包含一个或者多个 Service</li><li>Service - 由一个或者多个 Connector 组成，以及一个 Engine，负责处理所有的 Connector 所获得的客户请求</li><li>Connector - 客户端与程序交互组件，负责接受请求以及向客户端返回响应</li><li>Engine - 处理连接器接受到请求</li><li>Host - 虚拟主机</li><li>Context - 一个 Context 对应一个 Web Application</li></ul><h4 id="虚拟目录" tabindex="-1"><a class="header-anchor" href="#虚拟目录"><span>虚拟目录</span></a></h4><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Context</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> docBase</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> reloadable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> source</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>docBase：Web 应用的文件目录</li><li>path：URL 入口</li><li>reloadable：字节码改变时是否重新加载</li></ul><h3 id="servlet" tabindex="-1"><a class="header-anchor" href="#servlet"><span>Servlet</span></a></h3><p>Servlet 提供处理处理请求和响应的 API，由<code>servlet-api.jar</code>提供对应的接口，每一个实现该接口的 Java 类都是一个 Servlet 处理程序。在运行对应的 Servlet 时，不需要<code>main</code>方法，会被编译成字节码文件放入<code>WEB-INF -&gt; classes</code>目录下根据请求去执行对应的 Servlet 程序</p><p>Tomcat 启动时会将网页中的 URL 映射成 webapps 中的应用目录，一个 URL 对应一个 Servlet，当请求这个 URL 时，会执行<code>&lt;servlet&gt;</code>标签中对应的 java 程序，这个程序是编译过的字节码文件，存放在<code>classes</code>目录，但是无法访问 WEB-INF 目录下的文件</p><p>如果想要将 URL 映射成对应的 Servlet 程序，则应该在<code>web.xml</code>中进行配置，比如：</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">web-app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;hello&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;HelloServlet&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-mapping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;hello&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">url-pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;/hello&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">url-pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">servlet-mapping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">web-app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因此一个标准的目录是这样的：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>.</span></span>
<span class="line"><span>├── src（java 源码）</span></span>
<span class="line"><span>├── WEB-INF（提供 Tomcat 执行的信息）</span></span>
<span class="line"><span>│   ├── classes（编译后的字节码文件）</span></span>
<span class="line"><span>├── ├── lib（依赖的库）</span></span>
<span class="line"><span>├── ├── web.xml（应用配置项）</span></span>
<span class="line"><span>├── index.jsp（页面）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>工作的流程：</p><ol><li>编写 Servlet 程序</li><li>编译成字节码放入 classes</li><li>导入依赖库</li><li>配置 web.xml 中的映射关系</li><li>发布到 webapps 目录下</li><li>启动 Tomcat</li><li>访问对应 Web 应用</li></ol><h3 id="部署方式" tabindex="-1"><a class="header-anchor" href="#部署方式"><span>部署方式</span></a></h3><ul><li>直接将 war 放入<code>webapps</code>文件夹中</li><li>指定虚拟目录</li></ul><p>使用<code>jar -cvf &lt;outnname.war&gt; [file1, file2, ...]</code>命令，比如<code>jar -cvf test.war *</code>会将当前目录所有的文件打包成<code>test.war</code>文件，丢到<code>webapps</code>启动时，会在当前目录下解压出来部署</p>`,32)),l(" more ")])}const g=i(h,[["render",p]]),c=JSON.parse(`{"path":"/sundry/unplaced.html","title":"未处理的内容","lang":"zh-CN","frontmatter":{"title":"未处理的内容","article":false,"description":"Tomcat 前置知识 HTML CSS JavaScript Java HTTP Tomcat 是 Apache 公司开发的一款免费的 Web 应用服务器，虽然它为 HTML 页面提供服务，但实际上运行的是 JSP 和 Servlet。因为处理静态 HTML 的能力不如其他服务器，所以它只能算是一个运行 JSP 和 Servlet 的容器，能够单独处...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"未处理的内容\\",\\"description\\":\\"Tomcat 前置知识 HTML CSS JavaScript Java HTTP Tomcat 是 Apache 公司开发的一款免费的 Web 应用服务器，虽然它为 HTML 页面提供服务，但实际上运行的是 JSP 和 Servlet。因为处理静态 HTML 的能力不如其他服务器，所以它只能算是一个运行 JSP 和 Servlet 的容器，能够单独处...\\"}"],["meta",{"property":"og:url","content":"https://jinqiu.wang/sundry/unplaced.html"}],["meta",{"property":"og:site_name","content":"JQiue's notes"}],["meta",{"property":"og:title","content":"未处理的内容"}],["meta",{"property":"og:description","content":"Tomcat 前置知识 HTML CSS JavaScript Java HTTP Tomcat 是 Apache 公司开发的一款免费的 Web 应用服务器，虽然它为 HTML 页面提供服务，但实际上运行的是 JSP 和 Servlet。因为处理静态 HTML 的能力不如其他服务器，所以它只能算是一个运行 JSP 和 Servlet 的容器，能够单独处..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-06-19T06:51:15.000Z"}],["meta",{"property":"article:modified_time","content":"2025-06-19T06:51:15.000Z"}]]},"git":{"createdTime":1750315875000,"updatedTime":1750315875000,"contributors":[{"name":"JQiue","username":"JQiue","email":"861947542@qq.com","commits":1,"url":"https://github.com/JQiue"}]},"readingTime":{"minutes":3.91,"words":1174},"filePathRelative":"sundry/unplaced.md","excerpt":"<h2>Tomcat</h2>\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">前置知识</p>\\n<ul>\\n<li>HTML</li>\\n<li>CSS</li>\\n<li>JavaScript</li>\\n<li>Java</li>\\n<li>HTTP</li>\\n</ul>\\n</div>\\n<p>Tomcat 是 Apache 公司开发的一款免费的 Web 应用服务器，虽然它为 HTML 页面提供服务，但实际上运行的是 JSP 和 Servlet。因为处理静态 HTML 的能力不如其他服务器，所以它只能算是一个运行 JSP 和 Servlet 的容器，能够单独处理 HTML 页面</p>\\n<p>从<a href=\\"https://tomcat.apache.org/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">官网</a>下载它，Tomcat 依赖于 Java 运行，在<a href=\\"https://tomcat.apache.org/whichversion.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">这里</a>查看匹配当前 Java 版本的 Tomcat。如果没有配置<code>JAVA_HOME</code>系统环境变量，一定要配置，它为 Tomcat 指明 Java 所在的目录，否则启动时只能看到一闪而过的窗口</p>\\n<p>在<code>bin</code>目录下，找到<code>startup.bat</code>（如果是 Windows）双击它，会弹出一个终端窗口启动 Tomcat（如果没有问题）。这时不要关闭它，打开浏览器输入<code>localhost:8080</code>访问，出现下图就代表 Tomcat 以及相关配置没有问题</p>\\n<p></p>\\n<p>不要直接关闭打开中的终端来停止 Tomcat，应该双击<code>bin</code>目录下的<code>shutdown.bat</code>来处理</p>\\n<p>掌握 Tomcat 的一些目录是非常有必要的</p>\\n<ul>\\n<li>bin：存放一些可执行命令，比如启动服务器和关闭服务器</li>\\n<li>conf：存放服务器启动时相关的配置，核心配置文件<code>server.xml</code></li>\\n<li>lib：运行时依赖的库</li>\\n<li>logs：存放执行日志信息的目录</li>\\n<li>temps：临时文件夹目录</li>\\n<li>webapps：发布应用的目录</li>\\n<li>work：处理 JSP 的工作目录</li>\\n</ul>\\n<p>最重要的是<code>webapps</code>，通过网址访问的路径都是这个目录下的应用，如果打开这个目录，会发现 Tomcat 自带几个 Web 应用，通过<code>localhost:8080</code>会默认指向<code>ROOT</code>目录中的应用</p>\\n<p>一个 Web 应用的目录结构是这样的：</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>WebName</span></span>\\n<span class=\\"line\\"><span>│  index.jsp</span></span>\\n<span class=\\"line\\"><span>│  ...</span></span>\\n<span class=\\"line\\"><span>└─WEB-INF</span></span>\\n<span class=\\"line\\"><span>    │  web.xml # 当前整个 Web 应用的核心配置文件</span></span>\\n<span class=\\"line\\"><span>    │</span></span>\\n<span class=\\"line\\"><span>    ├─classes # 编译后的 java 字节码文件</span></span>\\n<span class=\\"line\\"><span>    └─lib # jar 包</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><div class=\\"hint-container caution\\">\\n<p class=\\"hint-container-title\\">警告</p>\\n<p><code>host-manager</code>、<code>manager</code>、<code>ROOT</code>这三个项目最好不要删，其它的都可以删掉以增加启动速度</p>\\n</div>\\n<h3>核心配置</h3>\\n<p><code>server.xml</code>是 Tomcat 的核心配置文件</p>\\n<div class=\\"language-xml line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"xml\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Server</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Service</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"catalina\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Connector</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> connectionTimeout</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"20000\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> port</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"8080\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> protocol</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"HTTP/1.1\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> redirectPort</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"8443\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">/&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Connector</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> port</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"8009\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> protocol</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"AJP/1.3\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> redirectPort</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"8443\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">/&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Engine</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> defaultHost</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"Localhost\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"catalina\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">      &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Host</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> appBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"webapps\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> autoDeploy</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"LocaLhost\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> unpackwARs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">        &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Context</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> docBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"project1\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\" /project1\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> reloadable</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> /&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">        &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Context</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> docBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"project2\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"/project2\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> reloadable</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> /&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">      &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Host</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">      &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Host</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> appBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"webapps\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> autoDeploy</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"m. myxq.com\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> unpackWARs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">        &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Context</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> docBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"project1\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"/project1\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> reloadable</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">        &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Context</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> docBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"project2\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"/project2\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> reloadable</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"true\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">      &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Host</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Engine</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Service</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt; </span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Server</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><ul>\\n<li>Server - 整个Server容器组合，可以包含一个或者多个 Service</li>\\n<li>Service - 由一个或者多个 Connector 组成，以及一个 Engine，负责处理所有的 Connector 所获得的客户请求</li>\\n<li>Connector - 客户端与程序交互组件，负责接受请求以及向客户端返回响应</li>\\n<li>Engine - 处理连接器接受到请求</li>\\n<li>Host - 虚拟主机</li>\\n<li>Context - 一个 Context 对应一个 Web Application</li>\\n</ul>\\n<h4>虚拟目录</h4>\\n<div class=\\"language-xml line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"xml\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">Context</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> docBase</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> path</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> reloadable</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> source</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">=</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">/&gt;</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div><ul>\\n<li>docBase：Web 应用的文件目录</li>\\n<li>path：URL 入口</li>\\n<li>reloadable：字节码改变时是否重新加载</li>\\n</ul>\\n<h3>Servlet</h3>\\n<p>Servlet 提供处理处理请求和响应的 API，由<code>servlet-api.jar</code>提供对应的接口，每一个实现该接口的 Java 类都是一个 Servlet 处理程序。在运行对应的 Servlet 时，不需要<code>main</code>方法，会被编译成字节码文件放入<code>WEB-INF -&gt; classes</code>目录下根据请求去执行对应的 Servlet 程序</p>\\n<p>Tomcat 启动时会将网页中的 URL 映射成 webapps 中的应用目录，一个 URL 对应一个 Servlet，当请求这个 URL 时，会执行<code>&lt;servlet&gt;</code>标签中对应的 java 程序，这个程序是编译过的字节码文件，存放在<code>classes</code>目录，但是无法访问 WEB-INF 目录下的文件</p>\\n<p>如果想要将 URL 映射成对应的 Servlet 程序，则应该在<code>web.xml</code>中进行配置，比如：</p>\\n<div class=\\"language-xml line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"xml\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">web-app</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;hello&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-class</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;HelloServlet&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-class</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-mapping</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;hello&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">    &lt;</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">url-pattern</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;/hello&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">url-pattern</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">  &lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">servlet-mapping</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&lt;/</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">web-app</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">&gt;</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><p>因此一个标准的目录是这样的：</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>.</span></span>\\n<span class=\\"line\\"><span>├── src（java 源码）</span></span>\\n<span class=\\"line\\"><span>├── WEB-INF（提供 Tomcat 执行的信息）</span></span>\\n<span class=\\"line\\"><span>│   ├── classes（编译后的字节码文件）</span></span>\\n<span class=\\"line\\"><span>├── ├── lib（依赖的库）</span></span>\\n<span class=\\"line\\"><span>├── ├── web.xml（应用配置项）</span></span>\\n<span class=\\"line\\"><span>├── index.jsp（页面）</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div><p>工作的流程：</p>\\n<ol>\\n<li>编写 Servlet 程序</li>\\n<li>编译成字节码放入 classes</li>\\n<li>导入依赖库</li>\\n<li>配置 web.xml 中的映射关系</li>\\n<li>发布到 webapps 目录下</li>\\n<li>启动 Tomcat</li>\\n<li>访问对应 Web 应用</li>\\n</ol>\\n<h3>部署方式</h3>\\n<ul>\\n<li>直接将 war 放入<code>webapps</code>文件夹中</li>\\n<li>指定虚拟目录</li>\\n</ul>\\n<p>使用<code>jar -cvf &lt;outnname.war&gt; [file1, file2, ...]</code>命令，比如<code>jar -cvf test.war *</code>会将当前目录所有的文件打包成<code>test.war</code>文件，丢到<code>webapps</code>启动时，会在当前目录下解压出来部署</p>\\n","autoDesc":true}`);export{g as comp,c as data};
